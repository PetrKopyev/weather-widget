(function(e){function t(t){for(var n,r,a=t[0],l=t[1],s=t[2],u=0,p=[];u<a.length;u++)r=a[u],Object.prototype.hasOwnProperty.call(o,r)&&o[r]&&p.push(o[r][0]),o[r]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(e[n]=l[n]);d&&d(t);while(p.length)p.shift()();return i.push.apply(i,s||[]),c()}function c(){for(var e,t=0;t<i.length;t++){for(var c=i[t],n=!0,a=1;a<c.length;a++){var l=c[a];0!==o[l]&&(n=!1)}n&&(i.splice(t--,1),e=r(r.s=c[0]))}return e}var n={},o={app:0},i=[];function r(t){if(n[t])return n[t].exports;var c=n[t]={i:t,l:!1,exports:{}};return e[t].call(c.exports,c,c.exports,r),c.l=!0,c.exports}r.m=e,r.c=n,r.d=function(e,t,c){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:c})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var c=Object.create(null);if(r.r(c),Object.defineProperty(c,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)r.d(c,n,function(t){return e[t]}.bind(null,n));return c},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/weather-widget/";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],l=a.push.bind(a);a.push=t,a=a.slice();for(var s=0;s<a.length;s++)t(a[s]);var d=l;i.push([0,"chunk-vendors"]),c()})({0:function(e,t,c){e.exports=c("cd49")},"022a":function(e,t,c){e.exports=c.p+"img/hpa.d1fbc431.png"},"0f3f":function(e,t,c){e.exports=c.p+"img/delete-icon.3bee4350.svg"},"335b":function(e,t,c){},"3d18":function(e,t,c){},"3d4c":function(e,t,c){e.exports=c.p+"img/settings.92c58a2e.svg"},"4b24":function(e,t,c){e.exports=c.p+"img/burger-menu.cfce727a.svg"},"55e2":function(e,t,c){e.exports=c.p+"img/close-icon.40000a14.svg"},5743:function(e,t,c){e.exports=c.p+"img/up-arrow.05169c87.svg"},"5e64":function(e,t,c){"use strict";c("8573")},8573:function(e,t,c){},"89fc":function(e,t,c){"use strict";c("3d18")},"8ae6":function(e,t,c){},b776:function(e,t,c){"use strict";c("8ae6")},c1c3:function(e,t,c){},c66e:function(e,t,c){e.exports=c.p+"img/add-city.b1445d40.svg"},cd49:function(e,t,c){"use strict";c.r(t);var n=c("7a23");c("c1c3");function o(e,t,c,o,i,r){const a=Object(n["resolveComponent"])("weather-widget");return Object(n["openBlock"])(),Object(n["createBlock"])(a)}var i=c("5743"),r=c.n(i),a=c("3d4c"),l=c.n(a),s=(c("14d9"),c("55e2")),d=c.n(s),u=c("4b24"),p=c.n(u),b=c("0f3f"),v=c.n(b),m=c("c66e"),O=c.n(m),j=c("be92"),g=c("cee4");const f=Object(j["b"])("City",()=>{const e=Object(n["ref"])(""),t=Object(n["reactive"])((null===JSON||void 0===JSON?void 0:JSON.parse(localStorage.getItem("cities")))||[]),c=Object(n["ref"])("");async function o(e,c){try{if(!t.length){const n=await g["a"].get(`https://api.openweathermap.org/data/2.5/weather?lat=${e}&lon=${c}&appid=14600bd2f6d700f1f5b00ff08d7775b5`);200===n.status&&t.push(n.data)}}catch(n){console.log(n)}}async function i(t){try{const c=await g["a"].get(`https://api.openweathermap.org/data/2.5/weather?q=${t}&appid=14600bd2f6d700f1f5b00ff08d7775b5`);200===c.status&&(e.value=c.data)}catch(n){c.value=n.response.data.message}}return{city:e,cities:t,errorMessage:c,getCity:i,getCityByGeo:o}});var y=c("b76a"),h=c.n(y);const w=e=>(Object(n["pushScopeId"])("data-v-6657ad02"),e=e(),Object(n["popScopeId"])(),e),_={class:"weather-settings"},N=w(()=>Object(n["createElementVNode"])("h1",null,"Settings",-1)),k={class:"weather-settings__city"},E=w(()=>Object(n["createElementVNode"])("img",{draggable:"false",src:p.a,alt:"pull"},null,-1)),S=["onClick"],V={class:"weather-settings__add-block"},C=w(()=>Object(n["createElementVNode"])("div",{class:"weather-settings__header"},[Object(n["createElementVNode"])("h1",null,"Add location:")],-1)),B={class:"weather-settings__input"},x=["onKeyup"],D={key:0,class:"weather-settings__error-message"};var I={__name:"WeatherSettings",emits:["close"],setup(e,{emit:t}){const c=Object(n["ref"])(""),o=f(),{city:i,cities:r,errorMessage:a}=Object(j["c"])(o),{getCity:l}=o;async function s(){if(c.value)try{await l(c.value),a.value?(c.value="",setTimeout(()=>{a.value=""},3e3)):r.value.find(e=>e.id===i.value.id)?(c.value="",a.value="enter another city",setTimeout(()=>{a.value=""},3e3)):(r.value.push(i.value),localStorage.removeItem("cities"),localStorage.setItem("cities",JSON.stringify(r.value)),c.value="",i.value="")}catch(e){console.log(e)}}const u=function(){localStorage.removeItem("cities"),localStorage.setItem("cities",JSON.stringify(r.value))};function p(e){r.value.splice(r.value.indexOf(e),1),localStorage.setItem("cities",JSON.stringify(r.value))}function b(){t("close")}return(e,t)=>(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",_,[Object(n["createElementVNode"])("div",{class:"weather-settings__header"},[N,Object(n["createElementVNode"])("img",{onClick:b,src:d.a,alt:"close"})]),Object(n["createVNode"])(Object(n["unref"])(h.a),{list:Object(n["unref"])(r),"item-key":"name",class:"list-group","ghost-class":"ghost",onEnd:u},{item:Object(n["withCtx"])(({element:e})=>{var t;return[Object(n["createElementVNode"])("div",k,[Object(n["createElementVNode"])("span",null,[E,Object(n["createTextVNode"])(" "+Object(n["toDisplayString"])(e.name)+", "+Object(n["toDisplayString"])(null===(t=e.sys)||void 0===t?void 0:t.country),1)]),Object(n["createElementVNode"])("img",{draggable:"false",onClick:t=>p(e),src:v.a,alt:"delete"},null,8,S)])]}),_:1},8,["list"]),Object(n["createElementVNode"])("div",V,[C,Object(n["createElementVNode"])("div",B,[Object(n["withDirectives"])(Object(n["createElementVNode"])("input",{onKeyup:Object(n["withKeys"])(s,["enter"]),type:"text","onUpdate:modelValue":t[0]||(t[0]=e=>c.value=e),class:Object(n["normalizeClass"])({"weather-settings__error-border":!!Object(n["unref"])(a)})},null,42,x),[[n["vModelText"],c.value]]),Object(n["createElementVNode"])("img",{onClick:s,src:O.a,alt:"add"})]),Object(n["unref"])(a)?(Object(n["openBlock"])(),Object(n["createElementBlock"])("span",D,Object(n["toDisplayString"])(Object(n["unref"])(a)),1)):Object(n["createCommentVNode"])("",!0)])]))}},M=(c("b776"),c("6b0d")),T=c.n(M);const P=T()(I,[["__scopeId","data-v-6657ad02"]]);var J=P,W=c("f534"),L=c.n(W),A=c("022a"),F=c.n(A);const K=e=>(Object(n["pushScopeId"])("data-v-90ed170e"),e=e(),Object(n["popScopeId"])(),e),U={class:"weather-card"},$={class:"weather-card__header"},z={class:"weather-card__temperature"},G=["src"],q={class:"weather-card__description"},H={class:"weather-card__info"},R=K(()=>Object(n["createElementVNode"])("img",{src:L.a,alt:"wind"},null,-1)),Y=K(()=>Object(n["createElementVNode"])("img",{src:F.a,alt:"hpa"},null,-1)),Q={key:0},X={key:1};function Z(e,t,c,o,i,r){var a;return Object(n["openBlock"])(),Object(n["createElementBlock"])("div",U,[Object(n["createElementVNode"])("div",$,[Object(n["createElementVNode"])("h1",null,Object(n["toDisplayString"])(e.city.name)+", "+Object(n["toDisplayString"])(null===(a=e.city.sys)||void 0===a?void 0:a.country),1)]),Object(n["createElementVNode"])("div",z,[Object(n["createElementVNode"])("img",{src:e.weatherImage,alt:"weather"},null,8,G),Object(n["createElementVNode"])("span",null,Object(n["toDisplayString"])(e.tempCel)+" â„ƒ",1)]),Object(n["createElementVNode"])("span",q,"Feels like "+Object(n["toDisplayString"])(e.feelsLike)+"'C. "+Object(n["toDisplayString"])(e.weatherMain)+". "+Object(n["toDisplayString"])(e.weatherDescription),1),Object(n["createElementVNode"])("div",H,[Object(n["createElementVNode"])("span",null,[R,Object(n["createTextVNode"])(" "+Object(n["toDisplayString"])(e.windSpeed)+" m/s ",1)]),Object(n["createElementVNode"])("span",null,[Y,Object(n["createTextVNode"])(" "+Object(n["toDisplayString"])(e.pressure)+" hPa ",1)]),Object(n["createElementVNode"])("span",null,"Humidity: "+Object(n["toDisplayString"])(e.humidity)+"%",1),Object(n["createElementVNode"])("span",null,"Visibility: "+Object(n["toDisplayString"])(e.visibility)+"km",1),e.rain?(Object(n["openBlock"])(),Object(n["createElementBlock"])("span",Q,"Rain volume for the last 1 hour: "+Object(n["toDisplayString"])(e.rain)+" mm",1)):Object(n["createCommentVNode"])("",!0),e.snow?(Object(n["openBlock"])(),Object(n["createElementBlock"])("span",X,"Snow volume for the last 1 hour: "+Object(n["toDisplayString"])(e.snow)+" mm",1)):Object(n["createCommentVNode"])("",!0)])])}var ee=Object(n["defineComponent"])({name:"WeatherCard",props:["city"],setup(e){const t=Object(n["computed"])(()=>{var t,c;return Math.round((null===(t=e.city)||void 0===t||null===(c=t.main)||void 0===c?void 0:c.temp)-273.15)}),c=Object(n["computed"])(()=>{var t,c;return Math.round((null===(t=e.city)||void 0===t||null===(c=t.main)||void 0===c?void 0:c.feels_like)-273.15)}),o=Object(n["computed"])(()=>{var t,c;return null===(t=e.city)||void 0===t||null===(c=t.weather)||void 0===c?void 0:c[0].main}),i=Object(n["computed"])(()=>{var t,c,n,o,i;return(null===(t=e.city)||void 0===t||null===(c=t.weather)||void 0===c||null===(n=c[0].description)||void 0===n?void 0:n[0].toUpperCase())+(null===(o=e.city)||void 0===o||null===(i=o.weather)||void 0===i?void 0:i[0].description.slice(1))}),r=Object(n["computed"])(()=>{var t;return null===(t=e.city)||void 0===t?void 0:t.wind.speed.toFixed(1)}),a=Object(n["computed"])(()=>{var t;return null===(t=e.city)||void 0===t?void 0:t.main.pressure}),l=Object(n["computed"])(()=>{var t;return null===(t=e.city)||void 0===t?void 0:t.main.humidity}),s=Object(n["computed"])(()=>{var t,c,n,o;return(null===(t=e.city)||void 0===t?void 0:t.visibility)>9999?(null===(c=e.city)||void 0===c?void 0:c.visibility)/1e3+"."+(null===(n=e.city)||void 0===n?void 0:n.visibility)%1e3:null===(o=e.city)||void 0===o?void 0:o.visibility}),d=Object(n["computed"])(()=>{var t,c;return"http://openweathermap.org/img/w/"+(null===(t=e.city)||void 0===t||null===(c=t.weather)||void 0===c?void 0:c[0].icon)+".png"}),u=Object(n["computed"])(()=>{var t,c;return null===(t=e.city)||void 0===t||null===(c=t.snow)||void 0===c?void 0:c["1h"]}),p=Object(n["computed"])(()=>{var t,c;return null===(t=e.city)||void 0===t||null===(c=t.rain)||void 0===c?void 0:c["1h"]});return{tempCel:t,feelsLike:c,weatherMain:o,weatherDescription:i,windSpeed:r,pressure:a,humidity:l,visibility:s,weatherImage:d,snow:u,rain:p}}});c("ecb1");const te=T()(ee,[["render",Z],["__scopeId","data-v-90ed170e"]]);var ce=te;const ne={key:0,class:"weather-widget"},oe={class:"weather-widget__container"},ie={class:"weather-widget__cards"};var re={__name:"WeatherWidget",setup(e){const t=Object(n["ref"])(!1),c=f(),{cities:o}=Object(j["c"])(c),{getCityByGeo:i}=c;function a(){navigator.geolocation.getCurrentPosition(e=>{i(e.coords.latitude,e.coords.longitude)},e=>{console.log(e.message)})}function s(){window.scrollTo(0,0)}const d=Object(n["computed"])(()=>u.value>200),u=Object(n["ref"])(window.top.scrollY);function p(e){u.value=e.target.documentElement.scrollTop}return Object(n["onMounted"])(()=>{window.addEventListener("scroll",p,!0)}),Object(n["onBeforeUnmount"])(()=>{window.removeEventListener("scroll",p,!0)}),Object(n["onMounted"])(()=>{a()}),(e,c)=>t.value?(Object(n["openBlock"])(),Object(n["createBlock"])(J,{key:1,onClose:c[1]||(c[1]=e=>t.value=!1)})):(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",ne,[Object(n["createElementVNode"])("div",oe,[Object(n["createElementVNode"])("img",{onClick:s,class:Object(n["normalizeClass"])(["weather-widget__button-up",{visible:!Object(n["unref"])(d)}]),src:r.a,alt:"up"},null,2),Object(n["createElementVNode"])("img",{onClick:c[0]||(c[0]=e=>t.value=!0),class:"weather-widget__button--open",src:l.a,alt:"settings"}),Object(n["createElementVNode"])("div",ie,[(Object(n["openBlock"])(!0),Object(n["createElementBlock"])(n["Fragment"],null,Object(n["renderList"])(Object(n["unref"])(o),e=>(Object(n["openBlock"])(),Object(n["createBlock"])(ce,{key:e,city:e},null,8,["city"]))),128))])])]))}};c("5e64");const ae=T()(re,[["__scopeId","data-v-60282ddc"]]);var le=ae,se=Object(n["defineComponent"])({name:"App",components:{WeatherWidget:le}});c("89fc");const de=T()(se,[["render",o]]);var ue=de;const pe=Object(j["a"])(),be=Object(n["createApp"])(ue);be.use(pe),be.mount("#app")},ecb1:function(e,t,c){"use strict";c("335b")},f534:function(e,t,c){e.exports=c.p+"img/wind-weather.5cf05824.svg"}});
//# sourceMappingURL=app.ecca222d.js.map